<ion-header no-border (swipe)="onSwipeContent($event)" class="dp-head">
    <ion-toolbar>
        <button ion-button menuToggle color="gray9">
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-buttons end>
            <button-search #search></button-search>
            <button-cart #cart icon="cart"></button-cart>
        </ion-buttons>
    </ion-toolbar>
    <ion-navbar>
        <ion-title>Regresar al carrito</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding text-center>
    <ion-list class="edit-form" no-margin>
        <form [formGroup]="orderCheckoutForm">
            <ion-item bg-transparent no-padding>
                <ion-label stacked>Datos para Facturación</ion-label>
                <ion-select formControlName="billingAddressId" [cancelText]="'general.cancel'|translate" [okText]="'general.ok'|translate">
                    <ion-option *ngFor="let ba of billingAddresses" value="{{ba.id}}" [selected]="ba.is_default">{{ba.title}}</ion-option>
                </ion-select>
            </ion-item>
            <ion-item bg-transparent no-padding>
                <ion-label stacked>Dirección de Entrega</ion-label>
                <ion-select formControlName="shippingAddressId" [cancelText]="'general.cancel'|translate" [okText]="'general.ok'|translate">
                    <ion-option *ngFor="let da of deliveryAddresses" value="{{da.id}}" [selected]="da.is_default">{{da.title}}</ion-option>
                </ion-select>
            </ion-item>
            <ion-item bg-transparent no-padding>
                <ion-label stacked>Forma de Pago</ion-label>
                <ion-select formControlName="creditCardId" [cancelText]="'general.cancel'|translate" [okText]="'general.ok'|translate">
                    <ion-option *ngFor="let cc of creditCards" value="{{cc.id}}" [selected]="cc.is_default">{{cc.title}}
                        -
                        {{cc.mask}}</ion-option>
                </ion-select>
            </ion-item>
            <ion-row>
                <ion-col [class]="{'invalid':orderCheckoutForm.submitted && orderCheckoutForm.controls.cardCvv.errors}"
                    align-self-center>
                    <ion-item>
                        <ion-label font-90 no-margin style="color:#999;">Código de Seguridad</ion-label>
                    </ion-item>
                    <ion-item text-center class="block-cc">
                        <input type="tel" autocomplete="cc-cvc" id="cc-cvc" ccCvc formControlName="cardCvv">
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-item bg-transparent no-padding>
                <ion-label stacked>Comentarios Adicionales del Pedido</ion-label>
                <ion-textarea formControlName="additionalComments" rows="6" bordered-textarea placeholder="Por Ejemplo, instrucciones para empaque"></ion-textarea>
            </ion-item>
        </form>
    </ion-list>

    <ion-row>
        <ion-col>
            <button ion-button block icon-right margin-top (click)="confirm()" class="button-checkout" [disabled]="orderCheckoutForm.invalid">
                <span text-uppercase>Confirmo mi Pedido</span>
            </button>
        </ion-col>
    </ion-row>

</ion-content>